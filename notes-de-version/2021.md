---
description: >-
  Cette page dÃ©taille les nouvelles fonctionnalitÃ©s et les corrections
  d'anomalies des versions 2021.
---

# Version majeure 2021

_Les mises Ã  jour liÃ©es Ã  la sÃ©curitÃ© et Ã  l'infrastructure sont indiquÃ©es par mesure de transparence mais n'entraÃ®nent aucun changement visible Ã  votre niveau._

## v2021.1.1 - 13/05/2021

### ğŸ CorrigÃ©

* Il est de nouveau possible d'afficher l'Ã©cran des apprÃ©ciations par domaine d'enseignement pour chaque Ã©lÃ¨ve \(_rÃ©gression 2021.1.0_\).

## v2021.1.0 - 13/05/2021

### ğŸ†• Nouvelles fonctionnalitÃ©s

* Un nouveau menu fait son apparition au sein de l'Ã©cran de saisie des apprÃ©ciations pour vous permettre de renseigner les Ã©lÃ©ments liÃ©s aux compÃ©tences numÃ©riques.

![Le menu permettant d&apos;acc&#xE9;der aux nouvelles fonctionnalit&#xE9;s.](../.gitbook/assets/menu-competences-numeriques.png)

* Il est dÃ©sormais possible de saisir une apprÃ©ciation gÃ©nÃ©rale concernant les compÃ©tences numÃ©riques travaillÃ©es durant l'annÃ©e au sein de la classe.

![Page &#xE9;cran permettant la saisie de l&apos;appr&#xE9;ciation g&#xE9;n&#xE9;rale concernant les comp&#xE9;tences num&#xE9;riques.](../.gitbook/assets/appreciation-competences-numeriques.png)

* Il est dÃ©sormais possible de renseigner le niveau de maÃ®trise pour les diffÃ©rentes compÃ©tences numÃ©riques travaillÃ©es durant l'annÃ©e pour chaque Ã©lÃ¨ve.

![Page &#xE9;cran permettant la saisie du niveau de ma&#xEE;trise des comp&#xE9;tences num&#xE9;riques pour chaque &#xE9;l&#xE8;ve.](../.gitbook/assets/saisie-competences-numeriques.png)

* La partie droite de l'export vers LSU a Ã©tÃ© simplifiÃ©e pour Ãªtre plus claire quâ€™auparavant. Vous trouverez dÃ©sormais des liens directs vers l'aide en ligne illustrÃ©e de captures d'Ã©cran permettant de mieux comprendre les procÃ©dures de dÃ©but d'annÃ©e et les points de vigilance ainsi que les problÃ¨mes couramment rencontrÃ©s lors de l'import et les solutions associÃ©es.

![Nouvelle pr&#xE9;sentation de la partie droite de l&apos;export vers LSU.](../.gitbook/assets/export-lsu.png)

### ğŸ CorrigÃ©

* L'ajout manuel d'un Ã©lÃ¨ve Ã  une classe existante est dÃ©sormais de nouveau possible \(merci Ã  _Claude_ et _Sofiane_ pour le signalementğŸ‘\).
* L'utilisation d'Ã©lÃ©ments de programmes avec exactement le mÃªme libellÃ© ne cause dÃ©sormais plus d'erreur lors de la gÃ©nÃ©ration du XML correspondant pour l'export vers LSU.

## v2021.0.11 - 28/04/2021

### ğŸ” SÃ©curitÃ©

* Mise Ã  jour de l'image ğŸ³ Docker [**`opencomp/php:8.0-fpm-alpine3.12`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12).
  * Mise Ã  jour de **`libjpeg-turbo`** vers la version **`2.1.0-r0`** pour corriger la vulnÃ©rabilitÃ© [CVE-2021-20205](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-20205).
* Mise Ã  jour des dÃ©pendances front-end ğŸ¨ 

## v2021.0.10+002 - 21/04/2021

### ğŸ” SÃ©curitÃ©

* Mise Ã  jour de l'image ğŸ³ Docker [**`opencomp/php:8.0-fpm-alpine3.12`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12).
  * Mise Ã  jour de **`curl`** vers la version **`7.76.0-r0`** pour corriger les multiples vulnÃ©rabilitÃ©s 

    [CVE-2020-8284](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8284), [CVE-2021-22876](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-22876), [CVE-2021-22890](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-22890).

  * Mise Ã  jour de **`apk-tools`** vers la version **`2.10.6-r0`** pour corriger la vulnÃ©rabilitÃ© 

    [CVE-2021-30139](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-30139).

## v2021.0.10+001 - 12/04/2021

### ğŸ” SÃ©curitÃ©

* Mise Ã  jour de l'image ğŸ³ Docker [**`opencomp/php:8.0-fpm-alpine3.12`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12).
  * Mise Ã  jour de **`tar`** vers la version **`1.32-r2`** pour corriger la vulnÃ©rabilitÃ© [CVE-2021-20193](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-20193).

## v2021.0.10 - 02/04/2021

### ğŸ§¾ Lien CRM

* Fin de l'adaptation de l'interconnexion CRM pour la mise Ã  niveau vers Dolibarr v13.

## v2021.0.9 - 02/04/2021

### ğŸ¨ DÃ©pendances front-end

* Mise Ã  jour de la libraire [`Chart.js`](https://www.chartjs.org/) vers la version `3.x` 
  * AmÃ©liorations de performance âš¡ : les diagrammes circulaires et les histogrammes empilÃ©s prÃ©sents sur la page de rÃ©daction des apprÃ©ciations gÃ©nÃ©rales et sur la page prÃ©sentant l'analyse instantanÃ©e des rÃ©sultats d'une Ã©valuation se chargent dÃ©sormais bien plus rapidement.

### ğŸ“¦ Groupeur de modules `Webpack`

* Utilisation du module natif `assets` \(ressources\) de `Webpack v5` en remplacement des dÃ©sormais dÃ©prÃ©ciÃ©s `url-loader` et `file-loader`.
* Suppression ğŸ—‘ de `exports-loader` et `image-webpack-loader`.

## v2021.0.8+001 - 01/04/2021

### ğŸ” SÃ©curitÃ©

* Mise Ã  jour de l'image ğŸ³ Docker [**`opencomp/php:8.0-fpm-alpine3.12`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12).
  * Mise Ã  jour de **`busybox`** vers la version **1.31.1-r20** pour corriger la vulnÃ©rabilitÃ© [CVE-2021-28831](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28831).

## v2021.0.8 - 27/03/2021

### ğŸ” SÃ©curitÃ©

* Mise Ã  jour de l'image ğŸ³ Docker [**`opencomp/php:8.0-fpm-alpine3.12`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12).
  * Mise Ã  jour de **`openssl`** vers la version **1.1.1k-r0** pour corriger les vulnÃ©rabilitÃ©s [CVE-2021-3449](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3449) et [CVE-2021-3450](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3450) \(avis [CERTFR-2021-AVI-221](https://www.cert.ssi.gouv.fr/avis/CERTFR-2021-AVI-221/)\).

### ğŸ§¾ Lien CRM

* DÃ©but de l'adaptation de l'interconnexion CRM avec Dolibarr pour permettre la mise Ã  niveau vers Dolibarr v13.

## v2021.0.7 - 14/03/2021

### ğŸ CorrigÃ©

* Correction d'une erreur d'orthographe sur la page expliquant les diffÃ©rents modes de paiement pour le rÃ¨glement d'une commande de type "Ã©tablissement".

### ğŸ‚ Nettoyage de code

* Remplacement de l'appel Ã  `onOpen` par `didOpen` \([**`sweetalert2`**](https://github.com/sweetalert2/sweetalert2) depuis la [`v10.3.0`](https://github.com/sweetalert2/sweetalert2/releases/tag/v10.3.0)\)

### ğŸ”„ DÃ©pendances

* Mise Ã  jour des dÃ©pendances **backend** ğŸ›  

## v2021.0.6 - 12/03/2021

### ğŸ CorrigÃ©

* La suppression d'un Ã©lÃ¨ve d'une Ã©valuation existante ne gÃ©nÃ¨re plus d'erreur `500` \(merci Ã  _Lucie_ğŸ‘\).

### ğŸ”„ DÃ©pendances

* Mise Ã  jour des dÃ©pendances **backend** ğŸ›  

## v2021.0.5 - 05/03/2021

### ğŸ CorrigÃ©

* La rÃ©cupÃ©ration automatique des virements entre le compte Stripe et le compte courant vers Dolibarr est de nouveau fonctionnelle.
* L'adresse IP retournÃ©e Ã  Sentry prend dÃ©sormais en compte l'en-tÃªte `X-Forwarded-For`.

## v2021.0.4 - 08/03/2021

### ğŸ”„ DÃ©pendances

* Mise Ã  jour du **langage de script PHP** vers la version **8.0.3**
* Mise Ã  jour des dÃ©pendances **frontend** ğŸ¨ 

### ğŸš¢ [IntÃ©gration continue](https://fr.wikipedia.org/wiki/Int%C3%A9gration_continue) & dÃ©ploiement continu

* Les plugins CKEditor personnalisÃ©s \(rÃ©glures SÃ¨yes, Vrai/Faux, Tableaux, Hauteur de ligne, Fraction\) sont dÃ©sormais installÃ©s depuis un dÃ©pÃ´t privÃ© **`npm`** sur l'instance Gitlab [`src.opencomp.fr`](https://src.opencomp.fr)

## v2021.0.3 - 04/03/2021

### ğŸ CorrigÃ©

* L'accÃ¨s Ã  la page `/users/login` redirige dÃ©sormais de faÃ§on permanente vers `/login` \(merci Ã  _Aude_ ğŸ‘\).

## v2021.0.2 - 04/03/2021

### ğŸ CorrigÃ©

* L'accÃ¨s Ã  la page "RÃ©initialisation de mot de passe" est possible et ne gÃ©nÃ¨re plus d'erreur `500` \(merci Ã  _Aude_ğŸ‘\).
* La page de connexion comporte de nouveau les particules animÃ©es \(cercles\).

## v2021.0.1 - 03/03/2021

### ğŸ CorrigÃ©

* L'accÃ¨s Ã  l'application est dÃ©sormais possible et ne gÃ©nÃ¨re plus d'_Internal Server Error_.

## v2021.0.0 - 03/03/2021

### ğŸ†• Nouvelles fonctionnalitÃ©s

* Une toute nouvelle identitÃ© graphique, rafraÃ®chie et plus en phase avec les attentes actuelles.

![La page d&apos;accueil &quot;Mes classes&quot; avec la nouvelle interface.](../.gitbook/assets/opencomp-new.png)

* Nouvel en-tÃªte pour les classes et les Ã©valuations rappelant le titre de la classe ou de l'Ã©valuation active. 
* Les actions relatives Ã  une classe ou Ã  une Ã©valuation en particulier sont maintenant disponibles Ã  partir du bouton dÃ©roulant symbolisÃ© par des engrenages Ã  droite du nouvel en-tÃªte.

![Nouvelle en-t&#xEA;te &quot;classe&quot; et menu d&apos;actions associ&#xE9;es \(&#xE0; droite\).](../.gitbook/assets/menu-objets.png)

* PossibilitÃ© pour les enseignants de saisir/modifier "en masse " les INE des Ã©lÃ¨ves.

![&#xC9;cran permettant de saisir/modifier &quot;en masse &quot; les INE des &#xE9;l&#xE8;ves.](../.gitbook/assets/saisie-ine-masse.png)

* PossibilitÃ© d'activer le mode "plein Ã©cran" pour la page de conception d'une Ã©valuation \(particuliÃ¨rement pratique pour les ordinateurs ayant une petite rÃ©solution d'Ã©cran\).

![Ic&#xF4;ne permettant d&apos;activer le mode &quot;plein &#xE9;cran&quot; depuis la page &quot;Contenu&quot; d&apos;une &#xE9;valuation.](../.gitbook/assets/mode-plein-ecran.png)

![Nouveau mode plein &#xE9;cran permettant une modification &quot;sans distractions&quot;.](../.gitbook/assets/fullscreen.png)

* PossibilitÃ© de supprimer les rÃ©sultats dÃ©jÃ  saisis pour une Ã©valuation

![L&apos;ic&#xF4;ne de la gomme permet d&apos;effacer les r&#xE9;sultats d&#xE9;j&#xE0; saisis d&apos;une &#xE9;valuation.](../.gitbook/assets/effacer-resultats.png)

* Un socle technique revu pour une implÃ©mentation simplifiÃ©e de nouvelles fonctionnalitÃ©s \(voir section suivante "DÃ©pendances"\).

### âœ¨ AmÃ©liorÃ©

* L'Ã©cran prÃ©sentant le bon de commande d'un abonnement de type "Ã©tablissement" prÃ©sente dÃ©sormais les diffÃ©rents moyens de paiement disponibles sous forme d'onglets, pour une meilleure comprÃ©hension du processus.

![Information de r&#xE8;glement et pr&#xE9;sentation des diff&#xE9;rents modes de paiement pour les commandes &#xE9;tablissement.](../.gitbook/assets/paiement-commande-etablissement-2021.png)

* La barre latÃ©rale est dÃ©sormais automatiquement rabattue sur les petits Ã©crans afin d'amÃ©liorer le confort de travail en permettant d'afficher ainsi plus d'Ã©lÃ©ments Ã  l'Ã©cran.

### ğŸ CorrigÃ©

* Les images sont dÃ©sormais correctement affichÃ©es dans la prÃ©visualisation du contenu des Ã©valuations Ã  importer \(Ã©valuations des annÃ©es prÃ©cÃ©dentes, Ã©valuations partagÃ©es\).
* La fonction d'insertion d'image au sein d'une Ã©valuation a Ã©tÃ© revue \(lors d'un clic sur l'icÃ´ne ![](../.gitbook/assets/inserer-image.png) **InsÃ©rer une image**, si aucune image n'est sÃ©lectionnÃ©e, alors la fenÃªtre s'ouvre sur l'onglet permettant d'en tÃ©lÃ©verser une ; dans le cas contraire, l'onglet d'Ã©dition des dimensions, de l'alignement et de la lÃ©gende de l'image sÃ©lectionnÃ©e apparaÃ®t\).
* Correction de l'export \(portabilitÃ© des donnÃ©es\) au format .xml lorsque ce dernier comportait certains caractÃ¨res spÃ©ciaux.

### ğŸ—‘ SupprimÃ©

* Il n'est dÃ©sormais plus possible de se connecter en utilisant Facebook \(voir [DÃ©prÃ©ciation de l'identification avec Facebook](https://opencomp.fr/actualites/depreciation-de-lidentification-avec-facebook-121)\).

### ğŸ”„ DÃ©pendances

* Mise Ã  jour du **langage de script PHP** vers la version majeure **8.x**
* Mise Ã  jour du **cadriciel CakePHP** vers la version majeure **4.x**
* Mise Ã  jour du **groupeur de modules Webpack** vers la version majeure **5.x**
* Mise Ã  jour du **gestionnaire de dÃ©pendances Composer** vers la version majeure **2.x**
* Mise Ã  jour des dÃ©pendances **backend** âš™ 
* Mise Ã  jour des dÃ©pendances **frontend** ğŸ¨ 
* Mise Ã  jour de la **version d'API du prestataire de traitement des paiements** ğŸ’° **Stripe**.

### ğŸš¢ [IntÃ©gration continue](https://fr.wikipedia.org/wiki/Int%C3%A9gration_continue) & dÃ©ploiement continu

* Mise en place de ğŸ† Panther pour l'exÃ©cution de tests d'acceptance.
* Utilisation des outils nÃ©cessaire Ã  l'intÃ©gration continue exclusivement dans le container Docker [**`opencomp/php:8.0-fpm-alpine3.12-dev`**](https://hub.docker.com/r/opencomp/php/tags?page=1&ordering=last_updated&name=8.0-fpm-alpine3.12-dev) \(maintenant inclus dans l'image Docker ğŸ³ce qui permet de ne pas avoir Ã  installer de dÃ©pendances sur le runner\). 

